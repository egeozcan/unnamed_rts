<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unnamed RTS</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="/src/styles.css">
</head>

<body>

  <div id="menu">
    <div class="logo">UNNAMED<span>RTS</span></div>

    <div class="skirmish-container">
      <!-- Player Slots -->
      <div class="skirmish-section players-section">
        <div class="section-title">Players</div>
        <div class="player-slots">
          <div class="player-slot" data-slot="0">
            <div class="player-color" style="--player-color: #4488ff"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none">—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="1">
            <div class="player-color" style="--player-color: #ff4444"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium" selected>Medium</option>
              <option value="hard">Hard</option>
              <option value="none">—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="2">
            <div class="player-color" style="--player-color: #44ff88"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="3">
            <div class="player-color" style="--player-color: #ffcc44"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="4">
            <div class="player-color" style="--player-color: #ff44ff"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="5">
            <div class="player-color" style="--player-color: #44ffff"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="6">
            <div class="player-color" style="--player-color: #ff8844"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
          <div class="player-slot" data-slot="7">
            <div class="player-color" style="--player-color: #8844ff"></div>
            <select class="player-type">
              <option value="human">Human</option>
              <option value="dummy">Dummy</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
              <option value="none" selected>—</option>
            </select>
          </div>
        </div>
        <div id="observer-mode" class="observer-indicator">Observer Mode</div>
      </div>

      <!-- Map Parameters -->
      <div class="skirmish-section map-section">
        <div class="section-title">Map</div>
        <div class="map-params">
          <div class="param-row">
            <label>Size</label>
            <select id="map-size">
              <option value="small">Small</option>
              <option value="medium" selected>Medium</option>
              <option value="large">Large</option>
              <option value="huge">Huge</option>
            </select>
          </div>
          <div class="param-row">
            <label>Resources</label>
            <select id="resource-density">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </div>
          <div class="param-row">
            <label>Obstacles</label>
            <select id="rock-density">
              <option value="low">Few</option>
              <option value="medium" selected>Normal</option>
              <option value="high">Many</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <button id="start-skirmish-btn" class="start-btn">Start Battle</button>
  </div>

  <div id="end-screen">
    <div id="end-title" class="end-title">GAME OVER</div>
    <button class="menu-btn" id="restart-btn">Main Menu</button>
  </div>

  <div id="game-container">
    <canvas id="gameCanvas"></canvas>

    <!-- Speed indicator -->
    <div id="speed-indicator" class="speed-2">NORMAL</div>

    <!-- Floating minimap for observer mode -->
    <div id="observer-minimap" class="observer-minimap-container">
      <canvas id="observerMinimapCanvas" width="250" height="200"></canvas>
    </div>

    <div id="sidebar">
      <div class="sidebar-header">
        <div id="money-display">$ 0</div>
        <div id="power-display">Power: 0/0</div>
        <div id="minimap-container">
          <canvas id="minimapCanvas"></canvas>
          <div id="low-power-warning">LOW POWER</div>
        </div>
        <div id="sell-container" class="mode-buttons-container">
          <button id="sell-btn" class="mode-btn sell-btn">SELL</button>
          <button id="repair-btn" class="mode-btn repair-btn">REPAIR</button>
        </div>
      </div>

      <div class="tabs">
        <div class="tab active" data-tab="buildings">
          <svg viewBox="0 0 24 24">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
          </svg>
        </div>
        <div class="tab" data-tab="defense">
          <svg viewBox="0 0 24 24">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z" />
          </svg>
        </div>
        <div class="tab" data-tab="infantry">
          <svg viewBox="0 0 24 24">
            <path
              d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
          </svg>
        </div>
        <div class="tab" data-tab="vehicles">
          <svg viewBox="0 0 24 24">
            <path
              d="M20 12V8h-2V6h-2v2H8V6H6v2H4v4c-1.1 0-2 .9-2 2v4h2v2h16v-2h2v-4c0-1.1-.9-2-2-2zm-6-4h2v4h-2V8zm-6 0h2v4H8V8zm-5 8h18v4H3v-4z" />
          </svg>
        </div>
        <div class="tab" data-tab="air">
          <svg viewBox="0 0 24 24">
            <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z" />
          </svg>
        </div>
      </div>

      <div id="sidebar-tabs" class="sidebar-content">
        <div id="tab-buildings" class="btn-grid active"></div>
        <div id="tab-defense" class="btn-grid"></div>
        <div id="tab-infantry" class="btn-grid"></div>
        <div id="tab-vehicles" class="btn-grid"></div>
        <div id="tab-air" class="btn-grid"></div>
      </div>

      <!-- Command bar for unit stances and attack-move -->
      <div id="command-bar" class="command-bar hidden">
        <div class="stance-section">
          <span class="command-label">Stance</span>
          <div class="stance-buttons">
            <button id="stance-aggressive" class="stance-btn active" title="Aggressive (F) - Pursue enemies indefinitely">F</button>
            <button id="stance-defensive" class="stance-btn" title="Defensive (G) - Return after kill or if too far">G</button>
            <button id="stance-hold" class="stance-btn" title="Hold Ground (H) - Don't move, attack in range">H</button>
          </div>
        </div>
        <div class="attack-move-section">
          <button id="attack-move-btn" class="attack-move-btn" title="Attack-Move (A) - Move and engage enemies">A-Move</button>
        </div>
      </div>

      <div id="status-msg">Commander, base established.</div>
    </div>
  </div>

  <script type="module" src="/src/game.ts"></script>
</body>

</html>